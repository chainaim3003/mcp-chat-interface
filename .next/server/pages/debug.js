"use strict";(()=>{var e={};e.id=94,e.ids=[94,888,660],e.modules={6274:(e,s,r)=>{r.r(s),r.d(s,{config:()=>v,default:()=>g,getServerSideProps:()=>b,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>p,routeModule:()=>P,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>j});var l={};r.r(l),r.d(l,{default:()=>DebugPage});var t=r(7093),a=r(5244),i=r(1323),o=r(8676),d=r.n(o),n=r(2840),c=r.n(n);let m=require("react/jsx-runtime");var u=r(6689);function DebugPage(){let[e,s]=(0,u.useState)(null),[r,l]=(0,u.useState)(!1),[t,a]=(0,u.useState)(null),[i,o]=(0,u.useState)({serverName:"",toolName:"",args:"{}"}),loadDebugInfo=async()=>{l(!0);try{let e=await fetch("/api/debug/mcp-tools"),r=await e.json();s(r.debugInfo)}catch(e){console.error("Debug load error:",e)}finally{l(!1)}},testTool=async()=>{l(!0);try{let e=await fetch("/api/debug/test-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:i.serverName,toolName:i.toolName,args:JSON.parse(i.args)})}),s=await e.json();a(s)}catch(e){a({error:e.message})}finally{l(!1)}};return(0,u.useEffect)(()=>{loadDebugInfo()},[]),(0,m.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"MCP System Debug"}),m.jsx("button",{onClick:loadDebugInfo,disabled:r,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:r?"Loading...":"Refresh Debug Info"}),e&&(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"System Status"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"MCP Initialized:"})," ",e.mcpInitialized?"✅":"❌"]}),(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"Total Tools:"})," ",e.toolSummary.totalTools]}),(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"Configured Servers:"})," ",e.totalServersConfigured]}),(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"Running Servers:"})," ",e.runningServers]})]})]}),(0,m.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Server Details"}),m.jsx("div",{className:"space-y-4",children:Object.entries(e.serverDetails).map(([e,s])=>(0,m.jsxs)("div",{className:"border p-3 rounded",children:[m.jsx("h3",{className:"font-medium",children:e}),(0,m.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm mt-2",children:[(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"Status:"})," ",s.status]}),(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"PID:"})," ",s.pid||"N/A"]}),(0,m.jsxs)("div",{children:[m.jsx("strong",{children:"Tools:"})," ",s.toolCount]})]}),s.tools&&s.tools.length>0&&(0,m.jsxs)("div",{className:"mt-2",children:[m.jsx("strong",{children:"Available Tools:"}),m.jsx("ul",{className:"list-disc list-inside ml-4",children:s.tools.map(e=>m.jsx("li",{children:e},e))})]}),s.error&&(0,m.jsxs)("div",{className:"mt-2 text-red-600",children:[m.jsx("strong",{children:"Error:"})," ",s.error]})]},e))})]}),(0,m.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Test Individual Tool"}),(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,m.jsxs)("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Server Name"}),(0,m.jsxs)("select",{value:i.serverName,onChange:e=>o({...i,serverName:e.target.value}),className:"w-full p-2 border rounded",children:[m.jsx("option",{value:"",children:"Select Server"}),Object.keys(e.serverDetails).map(e=>m.jsx("option",{value:e,children:e},e))]})]}),(0,m.jsxs)("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tool Name"}),(0,m.jsxs)("select",{value:i.toolName,onChange:e=>o({...i,toolName:e.target.value}),className:"w-full p-2 border rounded",disabled:!i.serverName,children:[m.jsx("option",{value:"",children:"Select Tool"}),i.serverName&&e.serverDetails[i.serverName]?.tools?.map(e=>m.jsx("option",{value:e,children:e},e))]})]})]}),(0,m.jsxs)("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Arguments (JSON)"}),m.jsx("textarea",{value:i.args,onChange:e=>o({...i,args:e.target.value}),className:"w-full p-2 border rounded h-20",placeholder:'{"key": "value"}'})]}),m.jsx("button",{onClick:testTool,disabled:r||!i.serverName||!i.toolName,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:"Test Tool"})]}),t&&(0,m.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[m.jsx("h3",{className:"font-medium mb-2",children:"Test Result:"}),m.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(t,null,2)})]})]})]})]})}let g=(0,i.l)(l,"default"),h=(0,i.l)(l,"getStaticProps"),x=(0,i.l)(l,"getStaticPaths"),b=(0,i.l)(l,"getServerSideProps"),v=(0,i.l)(l,"config"),p=(0,i.l)(l,"reportWebVitals"),j=(0,i.l)(l,"unstable_getStaticProps"),N=(0,i.l)(l,"unstable_getStaticPaths"),S=(0,i.l)(l,"unstable_getStaticParams"),f=(0,i.l)(l,"unstable_getServerProps"),y=(0,i.l)(l,"unstable_getServerSideProps"),P=new t.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/debug",pathname:"/debug",bundlePath:"",filename:""},components:{App:c(),Document:d()},userland:l})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},1017:e=>{e.exports=require("path")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[310,676,840,450],()=>__webpack_exec__(6274));module.exports=r})();